(function(g,f,j){function e(a){throw a;}var d=void 0,a=true,b=null,c=false;function h(a){return function(){return a}}function i(l){function m(a,b,c){c&&b!==i.k.r(a)&&i.k.S(a,b);b!==i.k.r(a)&&i.a.va(a,"change")}var i="undefined"!==typeof l?l:{};i.b=function(d,e){for(var a=d.split("."),b=i,c=0;c<a.length-1;c++)b=b[a[c]];b[a[a.length-1]]=e};i.B=function(a,b,c){a[b]=c};i.version="2.1.0pre";i.b("version",i.version);i.a=new function(){function l(a,d){if("input"!==i.a.o(a)||!a.type||"click"!=d.toLowerCase())return c;var b=a.type;return"checkbox"==b||"radio"==b}var q=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,k={},o={};k[/Firefox\/2/i.test(j.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];k.MouseEvents="click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave".split(",");for(var p in k){var n=k[p];if(n.length)for(var m=0,r=n.length;m<r;m++)o[n[m]]=p}var h=function(){for(var a=3,b=f.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",c[0];);return 4<a?a:d}();return{Ca:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],s:function(b,c){for(var a=0,d=b.length;a<d;a++)c(b[a])},j:function(b,c){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(b,c);for(var a=0,d=b.length;a<d;a++)if(b[a]===c)return a;return-1},ab:function(c,d,f){for(var a=0,e=c.length;a<e;a++)if(d.call(f,c[a]))return c[a];return b},ba:function(a,c){var b=i.a.j(a,c);0<=b&&a.splice(b,1)},za:function(a){for(var a=a||[],c=[],b=0,d=a.length;b<d;b++)0>i.a.j(c,a[b])&&c.push(a[b]);return c},T:function(a,d){for(var a=a||[],c=[],b=0,e=a.length;b<e;b++)c.push(d(a[b]));return c},aa:function(a,d){for(var a=a||[],c=[],b=0,e=a.length;b<e;b++)d(a[b])&&c.push(a[b]);return c},N:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},extend:function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c},ga:function(a){for(;a.firstChild;)i.removeNode(a.firstChild)},zb:function(a){for(var a=i.a.L(a),c=f.createElement("div"),b=0,d=a.length;b<d;b++)c.appendChild(a[b]);return c},X:function(c,b){i.a.ga(c);if(b)for(var a=0,d=b.length;a<d;a++)c.appendChild(b[a])},Na:function(c,f){var b=c.nodeType?[c]:c;if(0<b.length){for(var e=b[0],g=e.parentNode,a=0,d=f.length;a<d;a++)g.insertBefore(f[a],e);a=0;for(d=b.length;a<d;a++)i.removeNode(b[a])}},Pa:function(a,b){0<=j.userAgent.indexOf("MSIE 6")?a.setAttribute("selected",b):a.selected=b},w:function(a){return(a||"").replace(q,"")},Hb:function(e,g){for(var b=[],c=(e||"").split(g),a=0,f=c.length;a<f;a++){var d=i.a.w(c[a]);""!==d&&b.push(d)}return b},Gb:function(a,b){a=a||"";return b.length>a.length?c:a.substring(0,b.length)===b},eb:function(c,d){for(var b="return ("+c+")",a=0;a<d;a++)b="with(sc["+a+"]) { "+b+" } ";return new Function("sc",b)},kb:function(d,e){if(e.compareDocumentPosition)return 16==(e.compareDocumentPosition(d)&16);for(;d!=b;){if(d==e)return a;d=d.parentNode}return c},fa:function(a){return i.a.kb(a,f)},o:function(a){return a.tagName.toLowerCase()},n:function(b,f,d){if("undefined"!=typeof jQuery){if(l(b,f))var g=d,d=function(c,b){var d=this.checked;b&&(this.checked=b.fb!==a);g.call(this,c);this.checked=d};jQuery(b).bind(f,d)}else"function"==typeof b.addEventListener?b.addEventListener(f,d,c):"undefined"!=typeof b.attachEvent?b.attachEvent("on"+f,function(a){d.call(b,a)}):e(Error("Browser doesn't support addEventListener or attachEvent"))},va:function(b,d){(!b||!b.nodeType)&&e(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof jQuery){var h=[];l(b,d)&&h.push({fb:b.checked});jQuery(b).trigger(d,h)}else"function"==typeof f.createEvent?"function"==typeof b.dispatchEvent?(h=f.createEvent(o[d]||"HTMLEvents"),h.initEvent(d,a,a,g,0,0,0,0,0,c,c,c,c,0,b),b.dispatchEvent(h)):e(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof b.fireEvent?(l(b,d)&&(b.checked=b.checked!==a),b.fireEvent("on"+d)):e(Error("Browser doesn't support triggering events"))},d:function(a){return i.la(a)?a():a},Ua:function(d,e,b){var c=(d.className||"").split(/\s+/),a=0<=i.a.j(c,e);if(b&&!a)d.className+=(c[0]?" ":"")+e;else if(a&&!b){b="";for(a=0;a<c.length;a++)c[a]!=e&&(b+=c[a]+" ");d.className=i.a.w(b)}},Qa:function(a,e){var c=i.a.d(e);if(c===b||c===d)c="";"innerText"in a?a.innerText=c:a.textContent=c;9<=h&&(a.style.display=a.style.display)},lb:function(a){if(9<=h){var b=a.style.width;a.style.width=0;a.style.width=b}},Db:function(b,d){for(var b=i.a.d(b),d=i.a.d(d),c=[],a=b;a<=d;a++)c.push(a);return c},L:function(b){for(var c=[],a=0,d=b.length;a<d;a++)c.push(b[a]);return c},sb:6===h,tb:7===h,ja:h,Da:function(d,c){for(var b=i.a.L(d.getElementsByTagName("input")).concat(i.a.L(d.getElementsByTagName("textarea"))),f="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},e=[],a=b.length-1;0<=a;a--)f(b[a])&&e.push(b[a]);return e},Ab:function(a){return"string"==typeof a&&(a=i.a.w(a))?g.JSON&&g.JSON.parse?g.JSON.parse(a):new Function("return "+a)():b},sa:function(a,c,b){("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&e(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(i.a.d(a),c,b)},Bb:function(a,h,c){var c=c||{},g=c.params||{},l=c.includeFields||this.Ca,m=a;if("object"==typeof a&&"form"===i.a.o(a))for(var m=a.action,j=l.length-1;0<=j;j--)for(var k=i.a.Da(a,l[j]),e=k.length-1;0<=e;e--)g[k[e].name]=k[e].value;var h=i.a.d(h),b=f.createElement("form");b.style.display="none";b.action=m;b.method="post";for(var d in h)a=f.createElement("input"),a.name=d,a.value=i.a.sa(i.a.d(h[d])),b.appendChild(a);for(d in g)a=f.createElement("input"),a.name=d,a.value=g[d],b.appendChild(a);f.body.appendChild(b);c.submitter?c.submitter(b):b.submit();setTimeout(function(){b.parentNode.removeChild(b)},0)}}};i.b("utils",i.a);i.b("utils.arrayForEach",i.a.s);i.b("utils.arrayFirst",i.a.ab);i.b("utils.arrayFilter",i.a.aa);i.b("utils.arrayGetDistinctValues",i.a.za);i.b("utils.arrayIndexOf",i.a.j);i.b("utils.arrayMap",i.a.T);i.b("utils.arrayPushAll",i.a.N);i.b("utils.arrayRemoveItem",i.a.ba);i.b("utils.extend",i.a.extend);i.b("utils.fieldsIncludedWithJsonPost",i.a.Ca);i.b("utils.getFormFields",i.a.Da);i.b("utils.postJson",i.a.Bb);i.b("utils.parseJson",i.a.Ab);i.b("utils.registerEventHandler",i.a.n);i.b("utils.stringifyJson",i.a.sa);i.b("utils.range",i.a.Db);i.b("utils.toggleDomNodeCssClass",i.a.Ua);i.b("utils.triggerEvent",i.a.va);i.b("utils.unwrapObservable",i.a.d);Function.prototype.bind||(Function.prototype.bind=function(b){var c=this,a=Array.prototype.slice.call(arguments),b=a.shift();return function(){return c.apply(b,a.concat(Array.prototype.slice.call(arguments)))}});i.a.f=new function(){var g=0,e="__ko__"+ +new Date,f={};return{"get":function(b,e){var a=i.a.f.getAll(b,c);return a===d?d:a[e]},"set":function(b,f,e){e===d&&i.a.f.getAll(b,c)===d||(i.a.f.getAll(b,a)[f]=e)},getAll:function(b,c){var a=b[e];if(!(a&&"null"!==a)){if(!c)return;a=b[e]="ko"+g++;f[a]={}}return f[a]},clear:function(a){var c=a[e];c&&(delete f[c],a[e]=b)}}};i.b("utils.domData",i.a.f);i.b("utils.domData.clear",i.a.f.clear);i.a.F=new function(){function b(b,c){var a=i.a.f.get(b,g);a===d&&c&&(a=[],i.a.f.set(b,g,a));return a}function f(a){var d=b(a,c);if(d)for(var d=d.slice(0),e=0;e<d.length;e++)d[e](a);i.a.f.clear(a);"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([a]);if(h[a.nodeType])for(d=a.firstChild;a=d;)d=a.nextSibling,8===a.nodeType&&f(a)}var g="__ko_domNodeDisposal__"+ +new Date,j={1:a,8:a,9:a},h={1:a,9:a};return{wa:function(d,c){"function"!=typeof c&&e(Error("Callback must be a function"));b(d,a).push(c)},Ma:function(e,f){var a=b(e,c);a&&(i.a.ba(a,f),0==a.length&&i.a.f.set(e,g,d))},J:function(a){if(j[a.nodeType]&&(f(a),h[a.nodeType])){var b=[];i.a.N(b,a.getElementsByTagName("*"));for(var a=0,c=b.length;a<c;a++)f(b[a])}},removeNode:function(a){i.J(a);a.parentNode&&a.parentNode.removeChild(a)}}};i.J=i.a.F.J;i.removeNode=i.a.F.removeNode;i.b("cleanNode",i.J);i.b("removeNode",i.removeNode);i.b("utils.domNodeDisposal",i.a.F);i.b("utils.domNodeDisposal.addDisposeCallback",i.a.F.wa);i.b("utils.domNodeDisposal.removeDisposeCallback",i.a.F.Ma);(function(){i.a.pa=function(a){var b;if("undefined"!=typeof jQuery){if((b=jQuery.clean([a]))&&b[0]){for(a=b[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{var c=i.a.w(a).toLowerCase();b=f.createElement("div");c=c.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!c.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!c.indexOf("<td")||!c.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];a="ignored<div>"+c[1]+a+c[2]+"</div>";for("function"==typeof g.innerShiv?b.appendChild(g.innerShiv(a)):b.innerHTML=a;c[0]--;)b=b.lastChild;b=i.a.L(b.lastChild.childNodes)}return b};i.a.Y=function(c,a){i.a.ga(c);if(a!==b&&a!==d)if("string"!=typeof a&&(a=a.toString()),"undefined"!=typeof jQuery)jQuery(c).html(a);else for(var f=i.a.pa(a),e=0;e<f.length;e++)c.appendChild(f[e])}})();i.b("utils.parseHtmlFragment",i.a.pa);i.b("utils.setHtml",i.a.Y);i.t=function(){function f(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function g(a,d){if(a)if(8==a.nodeType){var c=i.t.Ja(a.nodeValue);c!=b&&d.push({jb:a,xb:c})}else if(1==a.nodeType)for(var c=0,e=a.childNodes,f=e.length;c<f;c++)g(e[c],d)}var c={};return{na:function(a){"function"!=typeof a&&e(Error("You can only pass a function to ko.memoization.memoize()"));var b=f()+f();c[b]=a;return"<!--[ko_memo:"+b+"]-->"},Va:function(f,h){var g=c[f];g===d&&e(Error("Couldn't find any memo with ID "+f+". Perhaps it's already been unmemoized."));try{return g.apply(b,h||[]),a}finally{delete c[f]}},Wa:function(f,d){var b=[];g(f,b);for(var c=0,h=b.length;c<h;c++){var a=b[c].jb,e=[a];d&&i.a.N(e,d);i.t.Va(b[c].xb,e);a.nodeValue="";a.parentNode&&a.parentNode.removeChild(a)}},Ja:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:b}}}();i.b("memoization",i.t);i.b("memoization.memoize",i.t.na);i.b("memoization.unmemoize",i.t.Va);i.b("memoization.parseMemoText",i.t.Ja);i.b("memoization.unmemoizeDomNodeAndDescendants",i.t.Wa);i.Ba={throttle:function(a,c){a.throttleEvaluation=c;var d=b;return i.h({read:a,write:function(b){clearTimeout(d);d=setTimeout(function(){a(b)},c)}})},notify:function(a,b){a.equalityComparer="always"==b?h(c):i.m.fn.equalityComparer;return a}};i.b("extenders",i.Ba);i.Sa=function(a,b,c){this.target=a;this.ca=b;this.ib=c;i.B(this,"dispose",this.A)};i.Sa.prototype.A=function(){this.rb=a;this.ib()};i.R=function(){this.v={};i.a.extend(this,i.R.fn);i.B(this,"subscribe",this.ta);i.B(this,"extend",this.extend);i.B(this,"getSubscriptionsCount",this.ob)};i.R.fn={ta:function(b,d,a){var a=a||"change",b=d?b.bind(d):b,c=new i.Sa(this,b,function(){i.a.ba(this.v[a],c)}.bind(this));this.v[a]||(this.v[a]=[]);this.v[a].push(c);return c},notifySubscribers:function(c,b){b=b||"change";this.v[b]&&i.a.s(this.v[b].slice(0),function(b){b&&b.rb!==a&&b.ca(c)})},ob:function(){var b=0,a;for(a in this.v)this.v.hasOwnProperty(a)&&(b+=this.v[a].length);return b},extend:function(a){var b=this;if(a)for(var c in a){var d=i.Ba[c];"function"==typeof d&&(b=d(b,a[c]))}return b}};i.Ga=function(a){return"function"==typeof a.ta&&"function"==typeof a.notifySubscribers};i.b("subscribable",i.R);i.b("isSubscribable",i.Ga);i.U=function(){var a=[];return{bb:function(b){a.push({ca:b,Aa:[]})},end:function(){a.pop()},La:function(b){i.Ga(b)||e(Error("Only subscribable things can act as dependencies"));if(0<a.length){var c=a[a.length-1];0<=i.a.j(c.Aa,b)||(c.Aa.push(b),c.ca(b))}}}}();var o={undefined:a,"boolean":a,number:a,string:a};i.m=function(c){function a(){if(0<arguments.length){if(!a.equalityComparer||!a.equalityComparer(b,arguments[0]))a.H(),b=arguments[0],a.G();return this}i.U.La(a);return b}var b=c;i.R.call(a);a.G=function(){a.notifySubscribers(b)};a.H=function(){a.notifySubscribers(b,"beforeChange")};i.a.extend(a,i.m.fn);i.B(a,"valueHasMutated",a.G);i.B(a,"valueWillMutate",a.H);return a};i.m.fn={equalityComparer:function(a,d){return a===b||typeof a in o?a===d:c}};var k=i.m.Cb="__ko_proto__";i.m.fn[k]=i.m;i.ia=function(e,f){return e===b||e===d||e[k]===d?c:e[k]===f?a:i.ia(e[k],f)};i.la=function(a){return i.ia(a,i.m)};i.Ha=function(b){return"function"==typeof b&&b[k]===i.m||"function"==typeof b&&b[k]===i.h&&b.pb?a:c};i.b("observable",i.m);i.b("isObservable",i.la);i.b("isWriteableObservable",i.Ha);i.Q=function(a){0==arguments.length&&(a=[]);a!==b&&a!==d&&!("length"in a)&&e(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var c=i.m(a);i.a.extend(c,i.Q.fn);return c};i.Q.fn={remove:function(c){for(var d=this(),b=[],f="function"==typeof c?c:function(a){return a===c},a=0;a<d.length;a++){var e=d[a];f(e)&&(0===b.length&&this.H(),b.push(e),d.splice(a,1),a--)}b.length&&this.G();return b},removeAll:function(a){if(a===d){var b=this(),c=b.slice(0);this.H();b.splice(0,b.length);this.G();return c}return!a?[]:this.remove(function(b){return 0<=i.a.j(a,b)})},destroy:function(c){var d=this(),e="function"==typeof c?c:function(a){return a===c};this.H();for(var b=d.length-1;0<=b;b--)e(d[b])&&(d[b]._destroy=a);this.G()},destroyAll:function(b){return b===d?this.destroy(h(a)):!b?[]:this.destroy(function(a){return 0<=i.a.j(b,a)})},indexOf:function(a){var b=this();return i.a.j(b,a)},replace:function(b,c){var a=this.indexOf(b);0<=a&&(this.H(),this()[a]=c,this.G())}};i.a.s("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){i.Q.fn[a]=function(){var b=this();this.H();b=b[a].apply(b,arguments);this.G();return b}});i.a.s(["slice"],function(a){i.Q.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});i.b("observableArray",i.Q);i.h=function(w,l,g){function t(){i.a.s(k,function(a){a.A()});k=[]}function x(){var a=f.throttleEvaluation;a&&0<=a?(clearTimeout(v),v=setTimeout(m,a)):m()}function m(){if(!r)if(q&&s())o();else{r=a;try{var b=i.a.T(k,function(a){return a.target});i.U.bb(function(a){var c;0<=(c=i.a.j(b,a))?b[c]=d:k.push(a.ta(x))});for(var g=j.call(l),e=b.length-1;0<=e;e--)b[e]&&k.splice(e,1)[0].A();q=a;f.notifySubscribers(n,"beforeChange");n=g}finally{i.U.end()}f.notifySubscribers(n);r=c}}function f(){if(0<arguments.length)y.apply(f,arguments);else return q||m(),i.U.La(f),n}function y(){"function"===typeof u?u.apply(l,arguments):e(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."))}var n,q=c,r=c,j=w;j&&"object"==typeof j?(g=j,j=g.read):(g=g||{},j||(j=g.read));"function"!=typeof j&&e(Error("Pass a function that returns the value of the ko.computed"));var u=g.write;l||(l=g.owner);var k=[],o=t,p="object"==typeof g.disposeWhenNodeIsRemoved?g.disposeWhenNodeIsRemoved:b,s=g.disposeWhen||h(c);if(p){o=function(){i.a.F.Ma(p,arguments.callee);t()};i.a.F.wa(p,o);var z=s,s=function(){return!i.a.fa(p)||z()}}var v=b;f.nb=function(){return k.length};f.pb="function"===typeof g.write;f.A=function(){o()};i.R.call(f);i.a.extend(f,i.h.fn);g.deferEvaluation!==a&&m();i.B(f,"dispose",f.A);i.B(f,"getDependenciesCount",f.nb);return f};i.qb=function(a){return i.ia(a,i.h)};l=i.m.Cb;i.h[l]=i.m;i.h.fn={};i.h.fn[l]=i.h;i.b("dependentObservable",i.h);i.b("computed",i.h);i.b("isComputed",i.qb);(function(){function a(e,i,g){g=g||new f;e=i(e);if(!("object"==typeof e&&e!==b&&e!==d&&!(e instanceof Date)))return e;var h=e instanceof Array?[]:{};g.save(e,h);c(e,function(c){var b=i(e[c]);switch(typeof b){case"boolean":case"number":case"string":case"function":h[c]=b;break;case"object":case"undefined":var f=g.get(b);h[c]=f!==d?f:a(b,i,g)}});return h}function c(b,c){if(b instanceof Array){for(var a=0;a<b.length;a++)c(a);"function"==typeof b.toJSON&&c("toJSON")}else for(a in b)c(a)}function f(){var a=[],b=[];this.save=function(c,d){var e=i.a.j(a,c);0<=e?b[e]=d:(a.push(c),b.push(d))};this.get=function(c){c=i.a.j(a,c);return 0<=c?b[c]:d}}i.Ta=function(b){0==arguments.length&&e(Error("When calling ko.toJS, pass the object you want to convert."));return a(b,function(a){for(var b=0;i.la(a)&&10>b;b++)a=a();return a})};i.toJSON=function(a,b,c){a=i.Ta(a);return i.a.sa(a,b,c)}})();i.b("toJS",i.Ta);i.b("toJSON",i.toJSON);(function(){i.k={r:function(b){switch(i.a.o(b)){case"option":return b.__ko__hasDomDataOptionValue__===a?i.a.f.get(b,i.c.options.oa):b.getAttribute("value");case"select":return 0<=b.selectedIndex?i.k.r(b.options[b.selectedIndex]):d;default:return b.value}},S:function(c,e){switch(i.a.o(c)){case"option":switch(typeof e){case"string":i.a.f.set(c,i.c.options.oa,d);"__ko__hasDomDataOptionValue__"in c&&delete c.__ko__hasDomDataOptionValue__;c.value=e;break;default:i.a.f.set(c,i.c.options.oa,e),c.__ko__hasDomDataOptionValue__=a,c.value="number"===typeof e?e:""}break;case"select":for(var f=c.options.length-1;0<=f;f--)if(i.k.r(c.options[f])==e){c.selectedIndex=f;break}break;default:if(e===b||e===d)e="";c.value=e}}}})();i.b("selectExtensions",i.k);i.b("selectExtensions.readValue",i.k.r);i.b("selectExtensions.writeValue",i.k.S);i.g=function(){function d(a,d){for(var c=b;a!=c;)c=a,a=a.replace(e,function(b,a){return d[a]});return a}var e=/\@ko_token_(\d+)\@/g,f=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,g=["true","false"];return{D:[],W:function(k){var a=i.a.w(k);if(3>a.length)return[];"{"===a.charAt(0)&&(a=a.substring(1,a.length-1));for(var k=[],f=b,g,c=0;c<a.length;c++){var e=a.charAt(c);if(f===b)switch(e){case'"':case"'":case"/":f=c,g=e}else if(e==g&&"\\"!==a.charAt(c-1)){e=a.substring(f,c+1);k.push(e);var l="@ko_token_"+(k.length-1)+"@",a=a.substring(0,f)+l+a.substring(c+1),c=c-(e.length-l.length),f=b}}g=f=b;for(var h=0,j=b,c=0;c<a.length;c++){e=a.charAt(c);if(f===b)switch(e){case"{":f=c;j=e;g="}";break;case"(":f=c;j=e;g=")";break;case"[":f=c,j=e,g="]"}e===j?h++:e===g&&(h--,0===h&&(e=a.substring(f,c+1),k.push(e),l="@ko_token_"+(k.length-1)+"@",a=a.substring(0,f)+l+a.substring(c+1),c-=e.length-l.length,f=b))}g=[];a=a.split(",");f=0;for(c=a.length;f<c;f++)h=a[f],j=h.indexOf(":"),0<j&&j<h.length-1?(e=h.substring(j+1),g.push({key:d(h.substring(0,j),k),value:d(e,k)})):g.push({unknown:d(h,k)});return g},ka:function(c){for(var h="string"===typeof c?i.g.W(c):c,d=[],c=[],a,k=0;a=h[k];k++)if(0<d.length&&d.push(","),a.key){var j;a:{j=a.key;var e=i.a.w(j);switch(e.length&&e.charAt(0)){case"'":case'"':break a;default:j="'"+e+"'"}}a=a.value;d.push(j);d.push(":");d.push(a);e=i.a.w(a);if(0<=i.a.j(g,i.a.w(e).toLowerCase())?0:e.match(f)!==b)0<c.length&&c.push(", "),c.push(j+" : function(__ko_value) { "+a+" = __ko_value; }")}else a.unknown&&d.push(a.unknown);h=d.join("");0<c.length&&(h=h+", '_ko_property_writers' : { "+c.join("")+" } ");return h},vb:function(d,e){for(var b=0;b<d.length;b++)if(i.a.w(d[b].key)==e)return a;return c},$:function(a,d,c,b,e){if(!a||!i.Ha(a))(a=d()._ko_property_writers)&&a[c]&&a[c](b);else(!e||a()!==b)&&a(b)}}}();i.b("jsonExpressionRewriting",i.g);i.b("jsonExpressionRewriting.bindingRewriteValidators",i.g.D);i.b("jsonExpressionRewriting.parseObjectLiteral",i.g.W);i.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",i.g.ka);(function(){function c(a){return 8==a.nodeType&&(g?a.text:a.nodeValue).match(l)}function d(a){return 8==a.nodeType&&(g?a.text:a.nodeValue).match(k)}function h(g,i){for(var a=g,f=1,h=[];a=a.nextSibling;){if(d(a)&&(f--,0===f))return h;h.push(a);c(a)&&f++}i||e(Error("Cannot find closing comment tag to match: "+g.nodeValue));return b}function j(c,d){var a=h(c,d);return a?0<a.length?a[a.length-1].nextSibling:c.nextSibling:b}var g="<!--test-->"===f.createComment("test").text,l=g?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,k=g?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,m={ul:a,ol:a};i.e={C:{},childNodes:function(a){return c(a)?h(a):a.childNodes},ha:function(a){if(c(a))for(var a=i.e.childNodes(a),b=0,d=a.length;b<d;b++)i.removeNode(a[b]);else i.a.ga(a)},X:function(a,b){if(c(a)){i.e.ha(a);for(var e=a.nextSibling,d=0,f=b.length;d<f;d++)e.parentNode.insertBefore(b[d],e)}else i.a.X(a,b)},Ka:function(a,b){c(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},Fa:function(a,b,d){c(a)?a.parentNode.insertBefore(b,d.nextSibling):d.nextSibling?a.insertBefore(b,d.nextSibling):a.appendChild(b)},firstChild:function(a){return!c(a)?a.firstChild:!a.nextSibling||d(a.nextSibling)?b:a.nextSibling},nextSibling:function(a){c(a)&&(a=j(a));return a.nextSibling&&d(a.nextSibling)?b:a.nextSibling},Xa:function(a){return(a=c(a))?a[1]:b},Ia:function(k){if(m[i.a.o(k)]){var h=k.firstChild;if(h)do if(1===h.nodeType){var e;e=h.firstChild;var f=b;if(e)do if(f)f.push(e);else if(c(e)){var g=j(e,a);g?e=g:f=[e]}else d(e)&&(f=[e]);while(e=e.nextSibling);if(e=f){f=h.nextSibling;for(g=0;g<e.length;g++)f?k.insertBefore(e[g],f):k.appendChild(e[g])}}while(h=h.nextSibling)}}}})();i.b("virtualElements",i.e);i.b("virtualElements.allowedBindings",i.e.C);i.b("virtualElements.emptyNode",i.e.ha);i.b("virtualElements.insertAfter",i.e.Fa);i.b("virtualElements.prepend",i.e.Ka);i.b("virtualElements.setDomNodeChildren",i.e.X);(function(){i.I=function(){this.cb={}};i.a.extend(i.I.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind")!=b;case 8:return i.e.Xa(a)!=b;default:return c}},getBindings:function(d,a){var c=this.getBindingsString(d,a);return c?this.parseBindingsString(c,a):b},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return i.e.Xa(a);default:return b}},parseBindingsString:function(c,d){try{var a=d.$data,a="object"==typeof a&&a!=b?[a,d]:[d],g=a.length,h=this.cb,j=g+"_"+c,f;if(!(f=h[j])){var k=" { "+i.g.ka(c)+" } ";f=h[j]=i.a.eb(k,g)}return f(a)}catch(l){e(Error("Unable to parse bindings.\nMessage: "+l+";\nBindings value: "+c))}}});i.I.instance=new i.I})();i.b("bindingProvider",i.I);(function(){function c(c,a,d){for(var b=i.e.firstChild(a);a=b;)b=i.e.nextSibling(a),f(c,a,d)}function f(f,d,j){var g=a,e=1===d.nodeType;e&&i.e.Ia(d);if(e&&j||i.I.instance.nodeHasBindings(d))g=h(d,b,f,j).Fb;g&&c(f,d,!e)}function h(a,j,f,m){function l(a){return function(){return c[a]}}function k(){return c}var g=0,c,h;i.h(function(){var o=f&&f instanceof i.z?f:new i.z(i.a.d(f)),p=o.$data;m&&i.Ra(a,o);if(c=("function"==typeof j?j():j)||i.I.instance.getBindings(a,o)){if(0===g){g=1;for(var b in c){var n=i.c[b];n&&8===a.nodeType&&!i.e.C[b]&&e(Error("The binding '"+b+"' cannot be used with virtual elements"));if(n&&"function"==typeof n.init&&(n=n.init(a,l(b),k,p,o))&&n.controlsDescendantBindings)h!==d&&e(Error("Multiple bindings ("+h+" and "+b+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),h=b}g=2}if(2===g)for(b in c)(n=i.c[b])&&"function"==typeof n.update&&n.update(a,l(b),k,p,o)}},b,{disposeWhenNodeIsRemoved:a});return{Fb:h===d}}i.c={};i.z=function(b,a){a?(i.a.extend(this,a),this.$parentContext=a,this.$parent=a.$data,this.$parents=(a.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=b);this.$data=b};i.z.prototype.createChildContext=function(a){return new i.z(a,this)};i.z.prototype.extend=function(a){var b=i.a.extend(new i.z,this);return i.a.extend(b,a)};i.Ra=function(a,b){if(2==arguments.length)i.a.f.set(a,"__ko_bindingContext__",b);else return i.a.f.get(a,"__ko_bindingContext__")};i.ya=function(b,c,d){1===b.nodeType&&i.e.Ia(b);return h(b,c,d,a)};i.Ya=function(d,b){(1===b.nodeType||8===b.nodeType)&&c(d,b,a)};i.xa=function(c,b){b&&1!==b.nodeType&&8!==b.nodeType&&e(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"));b=b||g.document.body;f(c,b,a)};i.ea=function(a){switch(a.nodeType){case 1:case 8:var b=i.Ra(a);if(b)return b;if(a.parentNode)return i.ea(a.parentNode)}};i.hb=function(a){return(a=i.ea(a))?a.$data:d};i.b("bindingHandlers",i.c);i.b("applyBindings",i.xa);i.b("applyBindingsToDescendants",i.Ya);i.b("applyBindingsToNode",i.ya);i.b("contextFor",i.ea);i.b("dataFor",i.hb)})();i.a.s(["click"],function(a){i.c[a]={init:function(b,c,d,e){return i.c.event.init.call(this,b,function(){var b={};b[a]=c();return b},d,e)}}});i.c.event={init:function(f,b,g,d){var h=b()||{},e;for(e in h)(function(){var h=e;"string"==typeof h&&i.a.n(f,h,function(e){var f,j=b()[h];if(j){var l=g();try{var k=i.a.L(arguments);k.unshift(d);f=j.apply(d,k)}finally{f!==a&&(e.preventDefault?e.preventDefault():e.returnValue=c)}l[h+"Bubble"]===c&&(e.cancelBubble=a,e.stopPropagation&&e.stopPropagation())}})})()}};i.c.submit={init:function(b,d,g,f){"function"!=typeof d()&&e(Error("The value for a submit binding must be a function"));i.a.n(b,"submit",function(e){var g,h=d();try{g=h.call(f,b)}finally{g!==a&&(e.preventDefault?e.preventDefault():e.returnValue=c)}})}};i.c.visible={update:function(a,d){var b=i.a.d(d()),c="none"!=a.style.display;b&&!c?a.style.display="":!b&&c&&(a.style.display="none")}};i.c.enable={update:function(b,d){var c=i.a.d(d());c&&b.disabled?b.removeAttribute("disabled"):!c&&!b.disabled&&(b.disabled=a)}};i.c.disable={update:function(a,b){i.c.enable.update(a,function(){return!i.a.d(b())})}};i.c.value={init:function(b,j,h){function f(){var d=j(),c=i.k.r(b);i.g.$(d,h,"value",c,a)}var d=["change"],e=h().valueUpdate;e&&("string"==typeof e&&(e=[e]),i.a.N(d,e),d=i.a.za(d));if(i.a.ja&&"input"==b.tagName.toLowerCase()&&"text"==b.type&&"off"!=b.autocomplete&&(!b.form||"off"!=b.form.autocomplete)&&-1==i.a.j(d,"propertychange")){var g=c;i.a.n(b,"propertychange",function(){g=a});i.a.n(b,"blur",function(){if(g){g=c;f()}})}i.a.s(d,function(a){var c=f;if(i.a.Gb(a,"after")){c=function(){setTimeout(f,0)};a=a.substring(5)}i.a.n(b,a,c)})},update:function(d,h){var f="select"===i.a.o(d),e=i.a.d(h()),b=i.k.r(d),g=e!=b;0===e&&0!==b&&"0"!==b&&(g=a);g&&(b=function(){i.k.S(d,e)},b(),f&&setTimeout(b,0));f&&0<d.length&&m(d,e,c)}};i.c.options={update:function(c,h,j){"select"!==i.a.o(c)&&e(Error("options binding applies only to SELECT elements"));for(var p=0==c.length,q=i.a.T(i.a.aa(c.childNodes,function(a){return a.tagName&&"option"===i.a.o(a)&&a.selected}),function(a){return i.k.r(a)||a.innerText||a.textContent}),r=c.scrollTop,g=i.a.d(h());0<c.length;)i.J(c.options[0]),c.remove(0);if(g){j=j();"number"!=typeof g.length&&(g=[g]);if(j.optionsCaption){var k=f.createElement("option");i.a.Y(k,j.optionsCaption);i.k.S(k,d);c.appendChild(k)}for(var h=0,o=g.length;h<o;h++){var k=f.createElement("option"),l="string"==typeof j.optionsValue?g[h][j.optionsValue]:g[h],l=i.a.d(l);i.k.S(k,l);var n=j.optionsText,l="function"==typeof n?n(g[h]):"string"==typeof n?g[h][n]:l;if(l===b||l===d)l="";i.a.Qa(k,l);c.appendChild(k)}g=c.getElementsByTagName("option");h=k=0;for(o=g.length;h<o;h++)0<=i.a.j(q,i.k.r(g[h]))&&(i.a.Pa(g[h],a),k++);c.scrollTop=r;p&&"value"in j&&m(c,i.a.d(j.value),a);i.a.lb(c)}}};i.c.options.oa="__ko.optionValueDomData__";i.c.selectedOptions={Ea:function(c){for(var b=[],c=c.childNodes,d=0,f=c.length;d<f;d++){var a=c[d],e=i.a.o(a);"option"==e&&a.selected?b.push(i.k.r(a)):"optgroup"==e&&(a=i.c.selectedOptions.Ea(a),Array.prototype.splice.apply(b,[b.length,0].concat(a)))}return b},init:function(a,b,c){i.a.n(a,"change",function(){var a=b(),d=i.c.selectedOptions.Ea(this);i.g.$(a,c,"value",d)})},update:function(d,g){"select"!=i.a.o(d)&&e(Error("values binding applies only to SELECT elements"));var a=i.a.d(g());if(a&&"number"==typeof a.length)for(var f=d.childNodes,b=0,h=f.length;b<h;b++){var c=f[b];"option"===i.a.o(c)&&i.a.Pa(c,0<=i.a.j(a,i.k.r(c)))}}};i.c.text={update:function(a,b){i.a.Qa(a,b())}};i.c.html={init:function(){return{controlsDescendantBindings:a}},update:function(a,b){var c=i.a.d(b());i.a.Y(a,c)}};i.c.css={update:function(c,d){var b=i.a.d(d()||{}),a;for(a in b)if("string"==typeof a){var e=i.a.d(b[a]);i.a.Ua(c,a,e)}}};i.c.style={update:function(c,d){var b=i.a.d(d()||{}),a;for(a in b)if("string"==typeof a){var e=i.a.d(b[a]);c.style[a]=e||""}}};i.c.uniqueName={init:function(a,b){b()&&(a.name="ko_unique_"+ ++i.c.uniqueName.gb,(i.a.sb||i.a.tb)&&a.mergeAttributes(f.createElement("<input name='"+a.name+"'/>"),c))}};i.c.uniqueName.gb=0;i.c.checked={init:function(b,c,d){i.a.n(b,"click",function(){var e;if("checkbox"==b.type)e=b.checked;else if("radio"==b.type&&b.checked)e=b.value;else return;var f=c();"checkbox"==b.type&&i.a.d(f)instanceof Array?(e=i.a.j(i.a.d(f),b.value),b.checked&&0>e?f.push(b.value):!b.checked&&0<=e&&f.splice(e,1)):i.g.$(f,d,"checked",e,a)});"radio"==b.type&&!b.name&&i.c.uniqueName.init(b,h(a))},update:function(a,c){var b=i.a.d(c());"checkbox"==a.type?a.checked=b instanceof Array?0<=i.a.j(b,a.value):b:"radio"==a.type&&(a.checked=a.value==b)}};var n={"class":"className","for":"htmlFor"};i.c.attr={update:function(f,j){var h=i.a.d(j())||{},a;for(a in h)if("string"==typeof a){var e=i.a.d(h[a]),g=e===c||e===b||e===d;g&&f.removeAttribute(a);8>=i.a.ja&&a in n?(a=n[a],g?f.removeAttribute(a):f[a]=e):g||f.setAttribute(a,e.toString())}}};i.c.hasfocus={init:function(b,e,f){function d(b){var c=e();i.g.$(c,f,"hasfocus",b,a)}i.a.n(b,"focus",function(){d(a)});i.a.n(b,"focusin",function(){d(a)});i.a.n(b,"blur",function(){d(c)});i.a.n(b,"focusout",function(){d(c)})},update:function(a,c){var b=i.a.d(c());b?a.focus():a.blur();i.a.va(a,b?"focusin":"focusout")}};i.c["with"]={p:function(a){return function(){var b=a();return{"if":b,data:b,templateEngine:i.q.K}}},init:function(a,b){return i.c.template.init(a,i.c["with"].p(b))},update:function(a,b,c,d,e){return i.c.template.update(a,i.c["with"].p(b),c,d,e)}};i.g.D["with"]=c;i.e.C["with"]=a;i.c["if"]={p:function(a){return function(){return{"if":a(),templateEngine:i.q.K}}},init:function(a,b){return i.c.template.init(a,i.c["if"].p(b))},update:function(a,b,c,d,e){return i.c.template.update(a,i.c["if"].p(b),c,d,e)}};i.g.D["if"]=c;i.e.C["if"]=a;i.c.ifnot={p:function(a){return function(){return{ifnot:a(),templateEngine:i.q.K}}},init:function(a,b){return i.c.template.init(a,i.c.ifnot.p(b))},update:function(a,b,c,d,e){return i.c.template.update(a,i.c.ifnot.p(b),c,d,e)}};i.g.D.ifnot=c;i.e.C.ifnot=a;i.c.foreach={p:function(a){return function(){var b=i.a.d(a());return!b||"number"==typeof b.length?{foreach:b,templateEngine:i.q.K}:{foreach:b.data,includeDestroyed:b.includeDestroyed,afterAdd:b.afterAdd,beforeRemove:b.beforeRemove,afterRender:b.afterRender,templateEngine:i.q.K}}},init:function(a,b){return i.c.template.init(a,i.c.foreach.p(b))},update:function(a,b,c,d,e){return i.c.template.update(a,i.c.foreach.p(b),c,d,e)}};i.g.D.foreach=c;i.e.C.foreach=a;i.u=function(){};i.u.prototype.renderTemplateSource=function(){e(Error("Override renderTemplateSource"))};i.u.prototype.createJavaScriptEvaluatorBlock=function(){e(Error("Override createJavaScriptEvaluatorBlock"))};i.u.prototype.makeTemplateSource=function(a){if("string"==typeof a){var b=f.getElementById(a);b||e(Error("Cannot find template with ID "+a));return new i.l.i(b)}if(1==a.nodeType||8==a.nodeType)return new i.l.M(a);e(Error("Unknown template type: "+a))};i.u.prototype.renderTemplate=function(a,b,c){return this.renderTemplateSource(this.makeTemplateSource(a),b,c)};i.u.prototype.isTemplateRewritten=function(b){return this.allowTemplateRewriting===c||this.V&&this.V[b]?a:this.makeTemplateSource(b).data("isRewritten")};i.u.prototype.rewriteTemplate=function(b,d){var c=this.makeTemplateSource(b),e=d(c.text());c.text(e);c.data("isRewritten",a);"string"==typeof b&&(this.V=this.V||{},this.V[b]=a)};i.b("templateEngine",i.u);i.Z=function(){function a(a,g,h){for(var a=i.g.W(a),f=i.g.D,c=0;c<a.length;c++){var b=a[c].key;if(f.hasOwnProperty(b)){var d=f[b];"function"===typeof d?(b=d(a[c].value))&&e(Error(b)):d||e(Error("This template engine does not support the '"+b+"' binding within its templates"))}}a="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() { return (function() { return { "+i.g.ka(a)+" } })() })";return h.createJavaScriptEvaluatorBlock(a)+g}var b=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,c=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{mb:function(b,a){a.isTemplateRewritten(b)||a.rewriteTemplate(b,function(b){return i.Z.yb(b,a)})},yb:function(e,d){return e.replace(b,function(e,b,f,g,h,i,c){return a(c,b,d)}).replace(c,function(c,b){return a(b,"<!-- ko -->",d)})},Za:function(a){return i.t.na(function(b,c){b.nextSibling&&i.ya(b.nextSibling,a,c)})}}}();i.b("templateRewriting",i.Z);i.b("templateRewriting.applyMemoizedBindingsToNextSibling",i.Z.Za);(function(){i.l={};i.l.i=function(a){this.i=a};i.l.i.prototype.text=function(){var a=i.a.o(this.i),a="script"===a?"text":"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.i[a];var b=arguments[0];"innerHTML"===a?i.a.Y(this.i,b):this.i[a]=b};i.l.i.prototype.data=function(a){if(1===arguments.length)return i.a.f.get(this.i,"templateSourceData_"+a);i.a.f.set(this.i,"templateSourceData_"+a,arguments[1])};i.l.M=function(a){this.i=a};i.l.M.prototype=new i.l.i;i.l.M.prototype.text=function(){if(0==arguments.length){var a=i.a.f.get(this.i,"__ko_anon_template__")||{};a.ua===d&&a.da&&(a.ua=a.da.innerHTML);return a.ua}i.a.f.set(this.i,"__ko_anon_template__",{ua:arguments[0]})};i.l.i.prototype.nodes=function(){if(0==arguments.length)return(i.a.f.get(this.i,"__ko_anon_template__")||{}).da;i.a.f.set(this.i,"__ko_anon_template__",{da:arguments[0]})};i.b("templateSources",i.l);i.b("templateSources.domElement",i.l.i);i.b("templateSources.anonymousTemplate",i.l.M)})();(function(){function g(b,c,d){for(var a,c=i.e.nextSibling(c);b&&(a=b)!==c;)b=i.e.nextSibling(a),(1===a.nodeType||8===a.nodeType)&&d(a)}function h(a,b){if(a.length){var c=a[0],d=a[a.length-1];g(c,d,function(a){i.xa(b,a)});g(c,d,function(a){i.t.Wa(a,[b])})}}function j(k,l,b,j,g){var g=g||{},d=g.templateEngine||f;i.Z.mb(b,d);b=d.renderTemplate(b,j,g);("number"!=typeof b.length||0<b.length&&"number"!=typeof b[0].nodeType)&&e(Error("Template engine must return an array of DOM nodes"));d=c;switch(l){case"replaceChildren":i.e.X(k,b);d=a;break;case"replaceNode":i.a.Na(k,b);d=a;break;case"ignoreTargetNode":break;default:e(Error("Unknown renderMode: "+l))}d&&(h(b,j),g.afterRender&&g.afterRender(b,j.$data));return b}var f;i.ra=function(a){a!=d&&!(a instanceof i.u)&&e(Error("templateEngine must inherit from ko.templateEngine"));f=a};i.qa=function(l,g,h,a,k){h=h||{};(h.templateEngine||f)==d&&e(Error("Set a template engine before calling renderTemplate"));k=k||"replaceChildren";if(a){var c=a.nodeType?a:0<a.length?a[0]:b;return i.h(function(){var d=g&&g instanceof i.z?g:new i.z(i.a.d(g)),e="function"==typeof l?l(d.$data):l,d=j(a,k,e,d,h);"replaceNode"==k&&(a=d,c=a.nodeType?a:0<a.length?a[0]:b)},b,{disposeWhen:function(){return!c||!i.a.fa(c)},disposeWhenNodeIsRemoved:c&&"replaceNode"==k?c.parentNode:c})}return i.t.na(function(a){i.qa(l,g,h,a,"replaceNode")})};i.Eb=function(c,g,a,e,k){function l(d,b){var c=f(d);h(b,c);a.afterRender&&a.afterRender(b,c.$data)}function f(a){return k.createChildContext(i.a.d(a))}return i.h(function(){var h=i.a.d(g)||[];"undefined"==typeof h.length&&(h=[h]);h=i.a.aa(h,function(c){return a.includeDestroyed||c===d||c===b||!i.a.d(c._destroy)});i.a.Oa(e,h,function(d){var e="function"==typeof c?c(d):c;return j(b,"ignoreTargetNode",e,f(d),a)},a,l)},b,{disposeWhenNodeIsRemoved:e})};i.c.template={init:function(b,d){var c=i.a.d(d());if("string"!=typeof c&&!c.name&&(1==b.nodeType||8==b.nodeType))c=1==b.nodeType?b.childNodes:i.e.childNodes(b),c=i.a.zb(c),new i.l.M(b).nodes(c);return{controlsDescendantBindings:a}},update:function(d,c,g,e,f){c=i.a.d(c());e=a;"string"==typeof c?g=c:(g=c.name,"if"in c&&(e=e&&i.a.d(c["if"])),"ifnot"in c&&(e=e&&!i.a.d(c.ifnot)));var h=b;"object"===typeof c&&"foreach"in c?h=i.Eb(g||d,e&&c.foreach||[],c,d,f):e?(f="object"==typeof c&&"data"in c?f.createChildContext(i.a.d(c.data)):f,h=i.qa(g||d,f,c,d)):i.e.ha(d);f=h;(c=i.a.f.get(d,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof c.A&&c.A();i.a.f.set(d,"__ko__templateSubscriptionDomDataKey__",f)}};i.g.D.template=function(a){a=i.g.W(a);return 1==a.length&&a[0].unknown||i.g.vb(a,"name")?b:"This template engine does not support anonymous templates nested within its templates"};i.e.C.template=a})();i.b("setTemplateEngine",i.ra);i.b("renderTemplate",i.qa);(function(){i.a.O=function(j,n,c){if(c===d)return i.a.O(j,n,1)||i.a.O(j,n,10)||i.a.O(j,n,Number.MAX_VALUE);for(var j=j||[],n=n||[],f=j,h=n,e=[],a=0;a<=h.length;a++)e[a]=[];for(var a=0,k=Math.min(f.length,c);a<=k;a++)e[0][a]=a;a=1;for(k=Math.min(h.length,c);a<=k;a++)e[a][0]=a;for(var k=f.length,g,l=h.length,a=1;a<=k;a++){g=Math.max(1,a-c);for(var m=Math.min(l,a+c);g<=m;g++)e[g][a]=f[a-1]===h[g-1]?e[g-1][a-1]:Math.min(e[g-1][a]===d?Number.MAX_VALUE:e[g-1][a]+1,e[g][a-1]===d?Number.MAX_VALUE:e[g][a-1]+1)}c=j.length;f=n.length;h=[];a=e[f][c];if(a===d)e=b;else{for(;0<c||0<f;){k=e[f][c];l=0<f?e[f-1][c]:a+1;m=0<c?e[f][c-1]:a+1;g=0<f&&0<c?e[f-1][c-1]:a+1;if(l===d||l<k-1)l=a+1;if(m===d||m<k-1)m=a+1;g<k-1&&(g=a+1);l<=m&&l<g?(h.push({status:"added",value:n[f-1]}),f--):(m<l&&m<g?h.push({status:"deleted",value:j[c-1]}):(h.push({status:"retained",value:j[c-1]}),f--),c--)}e=h.reverse()}return e}})();i.b("utils.compareArrays",i.a.O);(function(){function e(a){if(2<a.length){for(var b=a[0],d=a[a.length-1],c=[b];b!==d;){b=b.nextSibling;if(!b)return;c.push(b)}Array.prototype.splice.apply(a,[0,a.length].concat(c))}}function f(c,g,d,f){var a=[],c=i.h(function(){var b=g(d)||[];0<a.length&&(e(a),i.a.Na(a,b),f&&f(d,b));a.splice(0,a.length);i.a.N(a,b)},b,{disposeWhenNodeIsRemoved:c,disposeWhen:function(){return 0==a.length||!i.a.fa(a[0])}});return{wb:a,h:c}}i.a.Oa=function(j,o,u,p,w){for(var o=o||[],p=p||{},x=i.a.f.get(j,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===d,q=i.a.f.get(j,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],k=i.a.T(q,function(a){return a.$a}),l=i.a.O(k,o),o=[],m=0,h=[],k=[],r=b,g=0,y=l.length;g<y;g++)switch(l[g].status){case"retained":var n=q[m];o.push(n);0<n.P.length&&(r=n.P[n.P.length-1]);m++;break;case"deleted":q[m].h.A();e(q[m].P);i.a.s(q[m].P,function(a){h.push({element:a,index:g,value:l[g].value});r=a});m++;break;case"added":var n=l[g].value,s=f(j,u,n,w),v=s.wb;o.push({$a:l[g].value,P:v,h:s.h});for(var s=0,z=v.length;s<z;s++){var t=v[s];k.push({element:t,index:g,value:l[g].value});r==b?i.e.Ka(j,t):i.e.Fa(j,t,r);r=t}w&&w(n,v)}i.a.s(h,function(a){i.J(a.element)});u=c;if(!x){if(p.afterAdd)for(g=0;g<k.length;g++)p.afterAdd(k[g].element,k[g].index,k[g].value);if(p.beforeRemove){for(g=0;g<h.length;g++)p.beforeRemove(h[g].element,h[g].index,h[g].value);u=a}}u||i.a.s(h,function(a){i.removeNode(a.element)});i.a.f.set(j,"setDomNodeChildrenFromArrayMapping_lastMappingResult",o)}})();i.b("utils.setDomNodeChildrenFromArrayMapping",i.a.Oa);i.q=function(){this.allowTemplateRewriting=c};i.q.prototype=new i.u;i.q.prototype.renderTemplateSource=function(c){var d=!(9>i.a.ja)&&c.nodes?c.nodes():b;if(d)return i.a.L(d.cloneNode(a).childNodes);c=c.text();return i.a.pa(c)};i.q.K=new i.q;i.ra(i.q.K);i.b("nativeTemplateEngine",i.q);(function(){i.ma=function(){var a=this.ub=function(){if("undefined"==typeof jQuery||!jQuery.tmpl)return 0;try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(g,c,h){h=h||{};2>a&&e(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var d=g.data("precompiled");d||(d=g.text()||"",d=jQuery.template(b,"{{ko_with $item.koBindingContext}}"+d+"{{/ko_with}}"),g.data("precompiled",d));g=[c.$data];c=jQuery.extend({koBindingContext:c},h.templateOptions);c=jQuery.tmpl(d,g,c);c.appendTo(f.createElement("div"));jQuery.fragments={};return c};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){f.write("<script type='text/html' id='"+a+"'>"+b+"<\/script>")};0<a&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};i.ma.prototype=new i.u;var a=new i.ma;0<a.ub&&i.ra(a);i.b("jqueryTmplTemplateEngine",i.ma)})()}"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?i(module.exports||exports):"function"===typeof define&&define.amd?define(["exports"],i):i(g.ko={});a})(window,document,navigator)